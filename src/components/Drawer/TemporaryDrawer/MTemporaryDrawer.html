<aside ref:self class="mdc-drawer mdc-drawer--temporary mdc-typography">
  <nav class="mdc-drawer__drawer">
    {#if slots['toolbarSpacer']}
    <div class="mdc-drawer--temporary__toolbar-spacer {spacerClasses}">
      <slot name="toolbarSpacer" />
    </div>
    {/if}

    {#if slots['header']}
    <header class="mdc-drawer__header">
      <div class="mdc-drawer__header-content {headerClasses}">
        <slot name="header" />
      </div>
    </header>
    {/if}

    {#if slots['default']}
    <nav id="icon-with-text-demo" class="mdc-drawer__content mdc-list {contentClasses}">
      <slot />
    </nav>
    {/if}
  </nav>
</aside>

<script>
import { MDCTemporaryDrawer } from '@material/drawer'

export default {
  data () {
    return {
      slots: [],
      initialOpen: false,
      primaryHeader: '',
      primaryToolbarSpacer: false,
      primaryContent: '',
      open: false,
      mdcTemporaryDrawer: false
    }
  },
  computed: {
    spacerClasses: ({ primaryToolbarSpacer }) => {
      return primaryToolbarSpacer && 'mdc-theme--primary-bg mdc-theme--text-primary-on-primary'
    },
    headerClasses: ({ primaryHeader }) => {
      return primaryHeader && 'mdc-theme--primary-bg mdc-theme--text-primary-on-primary'
    },
    contentClasses: ({ primaryContent }) => {
      return primaryContent && 'mdc-theme--primary-bg mdc-theme--text-primary-on-primary'
    }
  },
  methods: {
    toggle () {
      open = !open
      mdcPersistentDrawer.open = open
    }
  },
  oncreate () {
    this.set({ slots: this.options.slots })
    this.set({ mdcTemporaryDrawer: MDCTemporaryDrawer.attachTo(this.refs.self) })
    this.set({ open: this.get('initialOpen') })
    // this.set({ mdcTemporaryDrawer.open: this.get('open') })
  },
  ondestroy () {
    this.get('mdcTemporaryDrawer').destroy()
  }
}
</script>

<style type='scss'>
@import "@material/drawer/mdc-drawer";
</style>
